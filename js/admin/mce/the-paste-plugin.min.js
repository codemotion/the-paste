var the_pastePluginCallback;!function(t){the_pastePluginCallback=function(e){function o(t){var e=t.src.substring(0,5);return"blob:"===e||"data:"===e}var a,n,i=wp.media.thepaste;i.options.editor.auto_upload="false"!==localStorage.getItem("thepaste.auto_upload"),e.addCommand("cmd_thepaste",function(){i.options.editor.auto_upload=!i.options.editor.auto_upload,localStorage.setItem("thepaste.auto_upload",i.options.editor.auto_upload.toString()),a.active(i.options.editor.auto_upload)}),e.addButton("thepaste",{icon:"thepaste",tooltip:i.l10n.upload_pasted_images,cmd:"cmd_thepaste",onPostRender:function(){a=this},active:i.options.editor.auto_upload}),e.addButton("wp_img_thepaste_upload",{icon:"dashicon dashicons dashicons-upload thepaste-upload",tooltip:i.l10n.upload_image,onclick:function(){var t;t=e.selection.getNode(),i.uploadImage(t,e)}}),e.once("preinit",function(){e.wp&&e.wp._createToolbar&&(n=e.wp._createToolbar(["wp_img_alignleft","wp_img_aligncenter","wp_img_alignright","wp_img_alignnone","wp_img_thepaste_upload","wp_img_edit","wp_img_remove"]))}),e.on("wptoolbar",function(t){var a;"IMG"!==t.element.nodeName||e.wp.isPlaceholder(t.element)||(t.toolbar=n,a=n.$el.find(".thepaste-upload").closest(".mce-btn"),o(t.element)?a.show():a.hide())}),e.on("BeforePastePreProcess",function(t){return t.content.match(/&lt;svg[\s\S.]*&lt;\/svg&gt;/i)&&(t.preventDefault(),t.content=""),t}).on("PastePostProcess",function(o){var a,n,l;a=t(o.node).children().first(),a.is("img")&&(l=a.get(0),l.onload=function(o){(i.options.editor.auto_upload||this.naturalWidth*this.naturalHeight>i.options.editor.force_upload_size)&&(n=i.uploadImage(a.get(0),e),a.remove(),t(o.node).append(n))})})},tinymce.PluginManager.add("the_paste",the_pastePluginCallback)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZS1wYXN0ZS1wbHVnaW4uanMiXSwibmFtZXMiOlsidGhlX3Bhc3RlUGx1Z2luQ2FsbGJhY2siLCIkIiwiZWRpdG9yIiwiY2FuVXBsb2FkIiwiaW1nIiwic3ViIiwic3JjIiwic3Vic3RyaW5nIiwicGFzdGVCdG4iLCJ0b29sYmFyIiwidGhlcGFzdGUiLCJ3cCIsIm1lZGlhIiwib3B0aW9ucyIsImF1dG9fdXBsb2FkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImFkZENvbW1hbmQiLCJzZXRJdGVtIiwidG9TdHJpbmciLCJhY3RpdmUiLCJhZGRCdXR0b24iLCJpY29uIiwidG9vbHRpcCIsImwxMG4iLCJ1cGxvYWRfcGFzdGVkX2ltYWdlcyIsImNtZCIsIm9uUG9zdFJlbmRlciIsInRoaXMiLCJ1cGxvYWRfaW1hZ2UiLCJvbmNsaWNrIiwiaW1hZ2UiLCJzZWxlY3Rpb24iLCJnZXROb2RlIiwidXBsb2FkSW1hZ2UiLCJvbmNlIiwiX2NyZWF0ZVRvb2xiYXIiLCJvbiIsImV2ZW50IiwidXBsb2FkQnRuIiwiZWxlbWVudCIsIm5vZGVOYW1lIiwiaXNQbGFjZWhvbGRlciIsIiRlbCIsImZpbmQiLCJjbG9zZXN0Iiwic2hvdyIsImhpZGUiLCJlIiwiY29udGVudCIsIm1hdGNoIiwicHJldmVudERlZmF1bHQiLCIkZmlyc3RDaGlsZCIsIiR1cGxvYWRCb3giLCJlbCIsIm5vZGUiLCJjaGlsZHJlbiIsImZpcnN0IiwiaXMiLCJnZXQiLCJvbmxvYWQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiZm9yY2VfdXBsb2FkX3NpemUiLCJyZW1vdmUiLCJhcHBlbmQiLCJ0aW55bWNlIiwiUGx1Z2luTWFuYWdlciIsImFkZCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsMEJBRUosU0FBVUMsR0FDVEQsd0JBQTBCLFNBQVVFLEdBOEVuQyxRQUFTQyxHQUFXQyxHQUNuQixHQUFJQyxHQUFNRCxFQUFJRSxJQUFJQyxVQUFVLEVBQUUsRUFDOUIsT0FBZSxVQUFSRixHQUEyQixVQUFSQSxFQS9FM0IsR0FBSUcsR0FNSEMsRUFEQUMsRUFBV0MsR0FBR0MsTUFBTUYsUUFNckJBLEdBQVNHLFFBQVFYLE9BQU9ZLFlBQWlFLFVBQW5EQyxhQUFhQyxRQUFTLHdCQUc1RGQsRUFBT2UsV0FBWSxlQUFnQixXQUNsQ1AsRUFBU0csUUFBUVgsT0FBT1ksYUFBZ0JKLEVBQVNHLFFBQVFYLE9BQU9ZLFlBQ2hFQyxhQUFhRyxRQUFTLHVCQUF3QlIsRUFBU0csUUFBUVgsT0FBT1ksWUFBWUssWUFDbEZYLEVBQVNZLE9BQVFWLEVBQVNHLFFBQVFYLE9BQU9ZLGVBSzFDWixFQUFPbUIsVUFBVSxZQUNoQkMsS0FBTSxXQUNOQyxRQUFTYixFQUFTYyxLQUFLQyxxQkFDdkJDLElBQU0sZUFDTkMsYUFBYyxXQUNibkIsRUFBV29CLE1BRVpSLE9BQU9WLEVBQVNHLFFBQVFYLE9BQU9ZLGNBSWhDWixFQUFPbUIsVUFBVSwwQkFDaEJDLEtBQU0sc0RBQ05DLFFBQVNiLEVBQVNjLEtBQUtLLGFBQ3ZCQyxRQUFTLFdBRVIsR0FBSUMsRUFDSkEsR0FBUTdCLEVBQU84QixVQUFVQyxVQUV6QnZCLEVBQVN3QixZQUFhSCxFQUFPN0IsTUFLL0JBLEVBQU9pQyxLQUFNLFVBQVcsV0FDbEJqQyxFQUFPUyxJQUFNVCxFQUFPUyxHQUFHeUIsaUJBQzNCM0IsRUFBVVAsRUFBT1MsR0FBR3lCLGdCQUNuQixtQkFDQSxxQkFDQSxvQkFDQSxtQkFDQSx5QkFDQSxjQUNBLHFCQU1IbEMsRUFBT21DLEdBQUksWUFBYSxTQUFVQyxHQUNqQyxHQUFJQyxFQUM0QixTQUEzQkQsRUFBTUUsUUFBUUMsVUFBd0J2QyxFQUFPUyxHQUFHK0IsY0FBZUosRUFBTUUsV0FDekVGLEVBQU03QixRQUFVQSxFQUVoQjhCLEVBQVk5QixFQUFRa0MsSUFBSUMsS0FBSyxvQkFBb0JDLFFBQVEsWUFFcEQxQyxFQUFXbUMsRUFBTUUsU0FDckJELEVBQVVPLE9BRVZQLEVBQVVRLFVBWWI3QyxFQUNFbUMsR0FBSSx3QkFBeUIsU0FBU1csR0FNdEMsTUFKTUEsR0FBRUMsUUFBUUMsTUFBTyxtQ0FDdEJGLEVBQUVHLGlCQUNGSCxFQUFFQyxRQUFVLElBRU5ELElBR1BYLEdBQUksbUJBQW9CLFNBQVNXLEdBRWpDLEdBQUlJLEdBQWFDLEVBQVlDLENBUzdCRixHQUFjbkQsRUFBRStDLEVBQUVPLE1BQU1DLFdBQVdDLFFBQzlCTCxFQUFZTSxHQUFHLFNBQ25CSixFQUFLRixFQUFZTyxJQUFJLEdBQ3JCTCxFQUFHTSxPQUFTLFNBQVNaLElBQ2Z0QyxFQUFTRyxRQUFRWCxPQUFPWSxhQUFlYyxLQUFLaUMsYUFBZWpDLEtBQUtrQyxjQUFnQnBELEVBQVNHLFFBQVFYLE9BQU82RCxxQkFDNUdWLEVBQWEzQyxFQUFTd0IsWUFBYWtCLEVBQVlPLElBQUksR0FBSXpELEdBQ3ZEa0QsRUFBWVksU0FDWi9ELEVBQUUrQyxFQUFFTyxNQUFNVSxPQUFRWixTQVd4QmEsUUFBUUMsY0FBY0MsSUFBSyxZQUFhcEUsMEJBRXJDcUUiLCJmaWxlIjoidGhlLXBhc3RlLXBsdWdpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdGhlX3Bhc3RlUGx1Z2luQ2FsbGJhY2s7XG5cbihmdW5jdGlvbigkKXtcblx0dGhlX3Bhc3RlUGx1Z2luQ2FsbGJhY2sgPSBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdHZhciBwYXN0ZUJ0bixcblx0XHRcdG9yaWdEb21BZGQsXG5cdFx0XHRjbGlwYm9hcmRIYXNJbWFnZSA9IGZhbHNlLFxuXHRcdFx0Y3VycmVudENsaXBib2FyZEV2ZW50ID0gbnVsbCxcblx0XHRcdHByZXZlbnRJbWFnZVBhc3RlID0gZmFsc2UsXG5cdFx0XHR0aGVwYXN0ZSA9IHdwLm1lZGlhLnRoZXBhc3RlLFxuXHRcdFx0dG9vbGJhcixcblx0XHRcdHBhc3RlZF9pbWFnZV90bXBfcHJlZml4ID0gJ19fcGFzdGVkX2ltYWdlX3RtcF8nLFxuXHRcdFx0cGFzdGVkX2ltYWdlX3RtcF9jbGFzcyA9ICcnO1xuXG5cdFx0Ly8gZGVmYXVsdCBvblxuXHRcdHRoZXBhc3RlLm9wdGlvbnMuZWRpdG9yLmF1dG9fdXBsb2FkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oICd0aGVwYXN0ZS5hdXRvX3VwbG9hZCcgKSAhPT0gJ2ZhbHNlJztcblxuXHRcdC8vIGVuYWJsZSAvIGRpc2FibGUgYXV0b3VwbG9hZFxuXHRcdGVkaXRvci5hZGRDb21tYW5kKCAnY21kX3RoZXBhc3RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGVwYXN0ZS5vcHRpb25zLmVkaXRvci5hdXRvX3VwbG9hZCA9ICEgdGhlcGFzdGUub3B0aW9ucy5lZGl0b3IuYXV0b191cGxvYWQ7XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSggJ3RoZXBhc3RlLmF1dG9fdXBsb2FkJywgdGhlcGFzdGUub3B0aW9ucy5lZGl0b3IuYXV0b191cGxvYWQudG9TdHJpbmcoKSApO1xuXHRcdFx0cGFzdGVCdG4uYWN0aXZlKCB0aGVwYXN0ZS5vcHRpb25zLmVkaXRvci5hdXRvX3VwbG9hZCApO1xuXG5cdFx0fSk7XG5cblx0XHQvLyBlbmFibGUgLyBkaXNhYmxlIGF1dG91cGxvYWQgYnV0dG9uXG5cdFx0ZWRpdG9yLmFkZEJ1dHRvbigndGhlcGFzdGUnLCB7XG5cdFx0XHRpY29uOiAndGhlcGFzdGUnLFxuXHRcdFx0dG9vbHRpcDogdGhlcGFzdGUubDEwbi51cGxvYWRfcGFzdGVkX2ltYWdlcyxcblx0XHRcdGNtZCA6ICdjbWRfdGhlcGFzdGUnLFxuXHRcdFx0b25Qb3N0UmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cGFzdGVCdG4gPSB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGFjdGl2ZTp0aGVwYXN0ZS5vcHRpb25zLmVkaXRvci5hdXRvX3VwbG9hZFxuXHRcdH0pO1xuXG5cdFx0Ly8gdXBsb2FkIGJ1dHRvbiBpbiBtZWRpYSB0b29sYmFyIGZseW91dFxuXHRcdGVkaXRvci5hZGRCdXR0b24oJ3dwX2ltZ190aGVwYXN0ZV91cGxvYWQnLCB7XG5cdFx0XHRpY29uOiAnZGFzaGljb24gZGFzaGljb25zIGRhc2hpY29ucy11cGxvYWQgdGhlcGFzdGUtdXBsb2FkJyxcblx0XHRcdHRvb2x0aXA6IHRoZXBhc3RlLmwxMG4udXBsb2FkX2ltYWdlLFxuXHRcdFx0b25jbGljazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIHdyYXAgaW1nLCB1cGxvYWRcblx0XHRcdFx0dmFyIGltYWdlO1xuXHRcdFx0XHRpbWFnZSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0Tm9kZSgpO1xuXG5cdFx0XHRcdHRoZXBhc3RlLnVwbG9hZEltYWdlKCBpbWFnZSwgZWRpdG9yICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBpbml0IG1lZGlhIHRvb2xiYXIgZmx5b3V0XG5cdFx0ZWRpdG9yLm9uY2UoICdwcmVpbml0JywgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGVkaXRvci53cCAmJiBlZGl0b3Iud3AuX2NyZWF0ZVRvb2xiYXIgKSB7XG5cdFx0XHRcdHRvb2xiYXIgPSBlZGl0b3Iud3AuX2NyZWF0ZVRvb2xiYXIoIFtcblx0XHRcdFx0XHQnd3BfaW1nX2FsaWdubGVmdCcsXG5cdFx0XHRcdFx0J3dwX2ltZ19hbGlnbmNlbnRlcicsXG5cdFx0XHRcdFx0J3dwX2ltZ19hbGlnbnJpZ2h0Jyxcblx0XHRcdFx0XHQnd3BfaW1nX2FsaWdubm9uZScsXG5cdFx0XHRcdFx0J3dwX2ltZ190aGVwYXN0ZV91cGxvYWQnLFxuXHRcdFx0XHRcdCd3cF9pbWdfZWRpdCcsXG5cdFx0XHRcdFx0J3dwX2ltZ19yZW1vdmUnLFxuXHRcdFx0XHRdICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0Ly8gc2V0dXAgbWVkaWEgdG9vbGJhciBmbHlvdXQgb24gbm9kZSBjaGFuZ2Vcblx0XHRlZGl0b3Iub24oICd3cHRvb2xiYXInLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgdXBsb2FkQnRuO1xuXHRcdFx0aWYgKCBldmVudC5lbGVtZW50Lm5vZGVOYW1lID09PSAnSU1HJyAmJiAhIGVkaXRvci53cC5pc1BsYWNlaG9sZGVyKCBldmVudC5lbGVtZW50ICkgKSB7XG5cdFx0XHRcdGV2ZW50LnRvb2xiYXIgPSB0b29sYmFyO1xuXG5cdFx0XHRcdHVwbG9hZEJ0biA9IHRvb2xiYXIuJGVsLmZpbmQoJy50aGVwYXN0ZS11cGxvYWQnKS5jbG9zZXN0KCcubWNlLWJ0bicpO1xuXG5cdFx0XHRcdGlmICggY2FuVXBsb2FkKCBldmVudC5lbGVtZW50ICkgKSB7XG5cdFx0XHRcdFx0dXBsb2FkQnRuLnNob3coKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR1cGxvYWRCdG4uaGlkZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0Ly8gdHJ1IGlmIGRhdGEgc291cmNlIG9yIGJsb2IgaW1hZ2Vcblx0XHRmdW5jdGlvbiBjYW5VcGxvYWQoIGltZyApIHtcblx0XHRcdHZhciBzdWIgPSBpbWcuc3JjLnN1YnN0cmluZygwLDUpO1xuXHRcdFx0cmV0dXJuIHN1YiA9PT0gJ2Jsb2I6JyB8fCBzdWIgPT09ICdkYXRhOic7XG5cdFx0fVxuXG5cdFx0Ly8gc2V0dXAgbWVkaWEgdG9vbGJhciBmbHlvdXRcblx0XHRlZGl0b3Jcblx0XHRcdC5vbiggJ0JlZm9yZVBhc3RlUHJlUHJvY2VzcycsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHQvLyByZW1vdmUgc3ZnIGRhdGFcblx0XHRcdFx0aWYgKCAgZS5jb250ZW50Lm1hdGNoKCAvJmx0O3N2Z1tcXHNcXFMuXSombHQ7XFwvc3ZnJmd0Oy9pICkgKSB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGUuY29udGVudCA9ICcnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBlO1xuXG5cdFx0XHR9IClcblx0XHRcdC5vbiggJ1Bhc3RlUG9zdFByb2Nlc3MnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0Ly8gdXBsb2FkIGltYWdlXG5cdFx0XHRcdHZhciAkZmlyc3RDaGlsZCwgJHVwbG9hZEJveCwgZWw7XG5cdFx0XHRcdC8qXG5cdFx0XHRcdGlmICggdGhlcGFzdGUub3B0aW9ucy5lZGl0b3IuYXV0b191cGxvYWQgKSB7XG5cdFx0XHRcdFx0JGZpcnN0Q2hpbGQgPSAkKGUubm9kZSkuY2hpbGRyZW4oKS5maXJzdCgpO1xuXHRcdFx0XHRcdGlmICggJGZpcnN0Q2hpbGQuaXMoJ2ltZycpICYmIGNhblVwbG9hZCggJGZpcnN0Q2hpbGQuZ2V0KDApICkgKSB7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8qL1xuXG5cdFx0XHRcdCRmaXJzdENoaWxkID0gJChlLm5vZGUpLmNoaWxkcmVuKCkuZmlyc3QoKTtcblx0XHRcdFx0aWYgKCAkZmlyc3RDaGlsZC5pcygnaW1nJykgKSB7XG5cdFx0XHRcdFx0ZWwgPSAkZmlyc3RDaGlsZC5nZXQoMCk7XG5cdFx0XHRcdFx0ZWwub25sb2FkID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0aWYgKCB0aGVwYXN0ZS5vcHRpb25zLmVkaXRvci5hdXRvX3VwbG9hZCB8fCB0aGlzLm5hdHVyYWxXaWR0aCAqIHRoaXMubmF0dXJhbEhlaWdodCA+IHRoZXBhc3RlLm9wdGlvbnMuZWRpdG9yLmZvcmNlX3VwbG9hZF9zaXplICkge1xuXHRcdFx0XHRcdFx0XHQkdXBsb2FkQm94ID0gdGhlcGFzdGUudXBsb2FkSW1hZ2UoICRmaXJzdENoaWxkLmdldCgwKSwgZWRpdG9yICk7XG5cdFx0XHRcdFx0XHRcdCRmaXJzdENoaWxkLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHQkKGUubm9kZSkuYXBwZW5kKCAkdXBsb2FkQm94ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8qL1xuXHRcdFx0fSlcblx0XHRcdDtcblxuXHR9O1xuXG5cdHRpbnltY2UuUGx1Z2luTWFuYWdlci5hZGQoICd0aGVfcGFzdGUnLCB0aGVfcGFzdGVQbHVnaW5DYWxsYmFjayApO1xuXG59ICkoalF1ZXJ5KTtcbiJdfQ==
